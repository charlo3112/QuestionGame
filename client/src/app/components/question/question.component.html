<div id="grid-container">
    <div id="bottom-container">
        <div id="left-container">
            <section *ngIf="question.type === 'QCM'" id="answer-container">
                <app-answers [choices]="question.choices"></app-answers>
            </section>
            <section *ngIf="question.type === 'QRL' && (gameService.currentState !== gameState.ShowResults && gameService.currentState !== gameState.LastQuestion)" id="answer-container">
                <div class="text-area-container">
                    <textarea
                        matInput
                        [(ngModel)]="gameSubscriptionService.answer"
                        maxlength="200"
                        class="text-area"
                        [disabled]="gameSubscriptionService.isTextLocked"
                        (keydown.enter)="$event.preventDefault()"
                        (ngModelChange)="saveAnswer()"
                    >
                    </textarea>
                    <mat-hint class="char-count" align="end">{{ 200 - gameSubscriptionService.answer.length }} </mat-hint>
                </div>
            </section>
            <section *ngIf="(question.type === 'QRL' && (gameService.currentState === gameState.LastQuestion || gameService.currentState === gameState.ShowResults))">
                <app-player-qrl></app-player-qrl>
            </section>
            <button
                *ngIf="(question.type !== 'QRL' || gameService.currentState === gameState.AskingQuestion)"
                mat-raised-button
                id="confirm-button"
                (click)="confirmAndDisable()"
                color="primary"
                [disabled]="!this.canValidate()"
            >
                Confirmer
            </button>
        </div>
        <div id="right-container">
            <app-chat (isChatFocused)="chatFocused($event)"></app-chat>
            <button *ngIf="this.showButtonResult()" mat-raised-button (click)="nextStep()" color="primary">RÃ©sultats</button>
        </div>
    </div>
    <div class="bottom" [ngStyle]="{ 'bottom.%': (-gameService.time / gameService.maxTime) * 85 - 15 }"></div>
</div>
